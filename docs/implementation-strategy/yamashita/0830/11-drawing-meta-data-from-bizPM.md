### 右部の情報の部分にはこちらの3つを表記するものとする。

- 図面ファイル特有項目
- 製品関連項目
- 共通項目

## 共通項目

| カラム | カラム名 | データ型 | 必須 | デフォルト値 | 概要 | 備考 |
| --- | --- | --- | --- | --- | --- | --- |
| 作成日時 | created_date | DATETIME | ○ | - | レコード作成日時 | ✅ |
| 作成者 | created_user_id | VARCHAR(20) | ○ | - | レコード作成者 | ✅ |
| 更新日時 | modified_date | DATETIME | ○ | - | 最終更新日時 | ✅ |
| 更新者 | modified_user_id | VARCHAR(20) | ○ | - | 最終更新ユーザー | ✅ |
| 備考 | remarks | TEXT |  | - | 帳票に関しての備考 | 図面に関しては、ページごとにひもづくものとする。✅ |

## 図面ページ特有項目

**ページごと**にひもづくべき項目。

| カラム | カラム名 | データ型 | 必須 | デフォルト値 | 概要 | 備考 |
| --- | --- | --- | --- | --- | --- | --- |
| 図面ID | drawing_id | VARCHAR(20) | ○ | - | 図面の一意識別子 | 主キー✅ |
| 製品ID | product_id | VARCHAR(20) | ○ | - | 製品を一意に識別 | **紐付けID** |
| 図面カテゴリ |  | VARCHAR(20) |  | 本図面 | セレクト。図面カテゴリの選択。(内容：本図面、見積図面、検査図面、手配図面、その他)ユーザーごとにその名前を変更できる。 | 検索を本図面のみで回すことになるので、セレクトになっていることが理想。 |
| 図面番号 | drawing_number | VARCHAR(50) | ○ | - | 社内で一意の図面管理番号 |  |
| 社外図面番号 | external_drawing_number | VARCHAR(50) |  | - | 顧客や外注先から提示された番号 |  |
| 類似図面検索表示有無 |  | BOOLEAN |  | off(作成時) | スイッチ。検索への表示有無の切り替え。基本的に最新の本図面は表示されるものとする。 |  |

## 製品関連項目

製品に紐付き、図面管理画面に表示されるべきもの。

[製品関連データ](https://www.notion.so/25c01261e40f80928c37f7975d4b43eb?pvs=21) 

## 図面ファイル(システム上での保存を想定)

- 元データをダウンロードの際にこちらを参照して、ダウンロードする。

ファイル:図面 = 1:n

| カラム | カラム名 | データ型 | 必須 | デフォルト値 | 概要 | 備考 |
| --- | --- | --- | --- | --- | --- | --- |
| 図面ファイル名 |  |  |  | - |  |  |
| 図面id |  |  |  | - | システム上の図面管理ID | 紐付きID |

## 図面カテゴリ(デフォルト)

- 名前が変更できること

| デフォルト有無 | カテゴリ名 | 概要 | 外部との紐付け | 備考 |
| --- | --- | --- | --- | --- |
| はい | 本図面 | 取引先から送られてくる寸法等の情報が確定した図面 | 類似図面検索に使用。 |  |
| はい | 見積図面 | 寸法等が未確定な加工の図面 |  |  |
| はい | 検査図面 | 品質検査用の図面。 | 品質検査モジュールと連携して、メタデータの紐付けを行う可能性あり。(要件未定義) | 書き込みによって作成した検査図面をタグとして保存しておきたいというユースケースに対応したい。 |
| はい | 手配図面(工程図面) | 実際の工程に必要な情報が追加されていたりする図面。 | 生産管理システムにおける工程ごとの図面の管理のために使用される。 | 会社によって名称が異なる。 |
| はい | その他 |  |  |  |

<aside>
💡

上記の図面に関しての名称は各会社で細かく異なる。

</aside>

### 図面カテゴリマスタ

設定にて図面のカテゴリの追加、名前の編集が可能に。

| カラム | カラム名 | データ型 | 必須 | デフォルト値 | 概要 | 備考 |
| --- | --- | --- | --- | --- | --- | --- |
| 図面カテゴリID |  |  |  |  |  |  |
| 図面カテゴリ名 |  |  |  | (上記) | 図面のカテゴリの |  |